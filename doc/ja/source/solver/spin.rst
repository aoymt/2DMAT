``spin`` ソルバー
************************

``spin`` は二体相互をもつスピン模型のエネルギーを計算する ``Solver`` です。

イジング模型

.. math ::

    `\mathcal{H} = -\sum_{i\le j} J_{ij} \sigma_i \sigma_j - \sum_i h_i \sigma_i

とポッツ模型

.. math ::

    `\mathcal{H} = -\sum_{i\le j} J_{ij} \delta(\sigma_i, \sigma_j) - \sum_i h_i \delta(\sigma_i, 0)

とが定義されています。
ここで :math:`\delta` は

.. math ::

   \delta(x, y) = \begin{cases} 1 & \text{if} \quad x = y \\ 0 & \text{otherwise} \end{cases}

です。
:math:`\sigma` のとり得る値については ``algorithm`` 側で設定してください。

入力パラメータ
~~~~~~~~~~~~~~~~~~~~~~~~

- ``type``

  形式: string型

  説明: スピン模型の種類を指定します。
  イジング模型 "ising" とポッツ模型 "potts" が利用できます。

- ``twobody``

  形式: string型

  説明: 二体相互作用 :math:`J_{ij}` の非ゼロ成分を指定するファイルへのパス。
  設定しない場合は :math:`J = 0` になります。

- ``onebody``

  形式: string型

  説明: 外場 :math:`h_{ij}` の非ゼロ成分を指定するファイルへのパス。
  設定しない場合は :math:`h = 0` になります。

ソルバー用補助ファイル
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

二体相互作用ファイル
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

二体相互作用行列 :math:`J_{ij}` の非ゼロ成分を記述するファイルです。
1つの行が1つの非ゼロ成分に対応し、1つの行は空白で区切られた3つの数字からなります。
1つ目と2つ目はサイト番号 :math:`i, j` を、 3つ目は :math:`J` の値を意味します。
例えば、::

  0 1 1.0

とした場合には、 :math:`J_{01} = 1.0` を意味します。

- Note

  - :math:`i > j` だった場合には :math:`J_{ji}` として設定されます
  - 2 回以上定義された場合は、後で登場されたものが優先されます

外場ファイル
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

外場 :math:`h_i` の非ゼロ成分を記述するファイルです。
1つの行が1つの非ゼロ成分に対応し、1つの行は空白で区切られた2つの数字からなります。
1つ目はサイト番号 :math:`i` を、 2つ目は :math:`h` の値を意味します。

例えば、::

  0 1.0

とした場合には、 :math:`h_0 = 1.0` を意味します。

- Note

  - 2 回以上定義された場合は、後で登場されたものが優先されます
